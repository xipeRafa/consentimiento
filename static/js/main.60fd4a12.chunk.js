(this.webpackJsonpauctioneer=this.webpackJsonpauctioneer||[]).push([[0],{63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(24),a=n(49),s=n(10),i=n(44),o=(n(54),n(64),n(65),i.a.initializeApp({apiKey:"AIzaSyCWCkRjpOrVbcr0b8b1YfiLb8SVUEO8j9w",authDomain:"consentimiento-b68ab.firebaseapp.com",projectId:"consentimiento-b68ab",storageBucket:"consentimiento-b68ab.appspot.com",messagingSenderId:"784029797289",appId:"1:784029797289:web:a42354669a6f9ed54d92b8"})),l=o.firestore(),j=o.storage(),u=o.auth(),b=n(2),d=Object(c.createContext)(),x=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){return u.onAuthStateChanged((function(e){i(e)}))}),[]),Object(b.jsx)(d.Provider,{value:{currentUser:a,register:function(e,t){return u.createUserWithEmailAndPassword(e,t)},login:function(e,t){return u.signInWithEmailAndPassword(e+"@gmail.com",t)},logout:function(){return u.signOut()}},children:t})},O=n(14),m=n.n(O),h=n(21),f=n(72),p=n(69),g=n(48),v=n(73),y=n(70),C=(n(46),function(e){var t=e.setAuction,n=Object(c.useState)(!1),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useRef)(),l=Object(c.useRef)(),j=Object(c.useRef)(),u=Object(c.useContext)(d).currentUser,x=function(){return i(!1)},O=["image/png","image/jpeg","image/jpg"],C=Object(c.useState)(),N=Object(s.a)(C,2),w=N[0],S=(N[1],Object(c.useState)("oxxo")),k=Object(s.a)(S,2),L=k[0],D=(k[1],Object(c.useState)("uno")),I=Object(s.a)(D,2),E=(I[0],I[1],Object(c.useState)("")),A=Object(s.a)(E,2),P=A[0],R=(A[1],Object(c.useState)(!0)),F=Object(s.a)(R,2),G=F[0],U=(F[1],function(){var e=Object(h.a)(m.a.mark((function e(n){var c,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!confirm("Gardar este Viaje como: ".concat(" "," ",G?"COMPLETADO \u2713":"SIN Completar \u2718","\n\n  Nota:\n    si no Ves las Fotos No hay Problema.\n    puedes borrar todo de tu Cuenta,\n    nada se borra de la Base de Datos.\n    Todo esta en Nuesta Base de Datos.\n  "))){e.next=13;break}if("oxxo"!==L||""!==P){e.next=5;break}return alert("Elija la tienda"),e.abrupt("return");case 5:if(O.includes(j.current.files[0].type)){e.next=7;break}return e.abrupt("return",console.log("Please use a valid image"));case 7:console.log("imagen:",j.current.files[0]),c=new Date,r=c.setHours(c.getHours()),a={email:u.email,title:o.current.value,description:l.current.value,duration:r,itemImage:w,latitude:lati,longitude:longi,categorie:L,tiendaOxxo:P,atendio:"",completed:G,url:URL.createObjectURL(w)},t(a),x();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:" px-5",children:"hola soy la informacion del Consentimiento"}),Object(b.jsx)("h2",{className:" px-5",children:"hola soy la informacion del Consentimiento"}),Object(b.jsx)("h2",{className:" px-5",children:"hola soy la informacion del Consentimiento"}),Object(b.jsx)("h2",{className:" px-5",children:"hola soy la informacion del Consentimiento"}),Object(b.jsx)("h2",{className:" px-5",children:"hola soy la informacion del Consentimiento"}),Object(b.jsx)("div",{className:"d-flex flex-direction-column justify-content-center my-3 ",children:Object(b.jsx)("div",{onClick:function(){return i(!0)},className:"btn btn-success mx-5 w-100",children:"Acepto  \u2713"})}),Object(b.jsx)(f.a,{centered:!0,show:a,onHide:x,style:{width:"96%",marginLeft:"1%"},children:Object(b.jsxs)("form",{onSubmit:U,style:{backgroundColor:"rgb(222,222,222)"},children:[Object(b.jsxs)(f.a.Body,{children:[Object(b.jsx)(p.a,{children:Object(b.jsx)(g.a,{className:"border mb-4 btn bg-primary mx-2 p-2 text-center text-white",children:"\xcdNDICE DE ANSIEDAD DENTAL Y FOBIA"})}),Object(b.jsx)(p.a,{children:Object(b.jsx)(g.a,{className:"mb-2",children:Object(b.jsxs)(v.a.Group,{children:[Object(b.jsx)(v.a.Label,{children:"Pregusta 1"}),Object(b.jsx)(v.a.Control,{type:"text",required:!0,ref:o})]})})}),Object(b.jsx)(p.a,{children:Object(b.jsx)(g.a,{className:"mb-2",children:Object(b.jsxs)(v.a.Group,{children:[Object(b.jsx)(v.a.Label,{children:"Pregusta 2"}),Object(b.jsx)(v.a.Control,{type:"text",required:!0,ref:o})]})})}),Object(b.jsx)(p.a,{children:Object(b.jsx)(g.a,{className:"mb-2",children:Object(b.jsxs)(v.a.Group,{children:[Object(b.jsx)(v.a.Label,{children:"Pregusta 3"}),Object(b.jsx)(v.a.Control,{type:"text",required:!0,ref:o})]})})}),Object(b.jsx)("div",{className:"oxxo"!==L&&"d-none"}),Object(b.jsx)("br",{}),Object(b.jsx)(p.a,{children:Object(b.jsx)(g.a,{children:Object(b.jsx)(v.a.Group,{className:"mb-3",children:Object(b.jsx)(v.a.Control,{as:"textarea",placeholder:"comentarios...",style:{height:"80px",resize:"none"},required:!0,ref:l})})})})]}),Object(b.jsxs)(f.a.Footer,{children:[Object(b.jsx)(y.a,{variant:"secondary",onClick:x,children:"Cancelar"}),Object(b.jsx)(y.a,{variant:"primary",type:"submit",disabled:!0,children:"Guardar"})]})]})})]})}),N=function(e){var t,n=e.item,r=e.deleteHandler,a=Object(c.useContext)(d).currentUser,s=new Date(n.duration).toLocaleTimeString("es-CL"),i=new Date(n.duration).toLocaleDateString("es-CL",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return a&&Object(b.jsx)("div",{className:"col mb-4",children:Object(b.jsxs)("div",{className:"card shadow-sm",children:[Object(b.jsx)("input",{type:"button",value:"Borrar de Mi Cuenta",onClick:function(){return r(n.duration)}}),Object(b.jsx)("div",{className:"w-100 mt-4",style:{height:"180px",backgroundImage:"url(".concat(n.url,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),Object(b.jsxs)("div",{className:"card-body p-4",children:[Object(b.jsxs)("p",{className:"h4",children:[Object(b.jsx)("span",{className:"text-secondary",children:"Kl: "}),null===a||void 0===a||null===(t=a.email)||void 0===t?void 0:t.slice(0,-10)]}),Object(b.jsx)("div",{className:"d-flex jsutify-content-between align-item-center",children:Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{className:"text-secondary",children:"Cliente: "})," ",n.categorie]})}),"oxxo"===n.categorie&&Object(b.jsx)("div",{className:"d-flex jsutify-content-between align-item-center",children:Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{className:"text-secondary",children:"oxxo: "})," ",n.tiendaOxxo]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:[i,", ",s]})}),Object(b.jsxs)("p",{className:"card-text",children:[n.description.slice(0,22),"..."]}),Object(b.jsx)("div",{className:"d-flex justify-content-between align-item-center",children:Object(b.jsx)("button",{className:n.completed?"btn btn-primary":"btn btn-danger w-100",children:n.completed?"Completado":" Sin Completar"})})]})]})})},w=n(71),S=n(42),k=function(e){var t=Object(c.useState)(0),n=Object(s.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),o=Object(s.a)(i,2),u=o[0],b=o[1],d=Date.parse((new Date).toDateString())+"si";return Object(c.useState)((function(){var t=j.ref(e.itemImage.name),n=l.collection(d);t.put(e.itemImage).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;a(t)}),(function(e){console.log(e)}),Object(h.a)(m.a.mark((function c(){var r;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.getDownloadURL();case 2:return r=c.sent,delete e.itemImage,c.next=6,n.add(Object(S.a)(Object(S.a)({},e),{},{imgUrl:r}));case 6:b(!0);case 7:case"end":return c.stop()}}),c)}))))}),[e]),{progress:r,isCompleted:u}},L=function(e){var t=e.auction,n=e.setAuction,r=k(t),a=r.progress,s=r.isCompleted;return Object(c.useEffect)((function(){s&&n(null)}),[s,n]),Object(b.jsx)(w.a.div,{style:{height:"5px",background:"black"},initial:{width:0},animate:{width:"".concat(a,"%")}})},D=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(d).currentUser,o=JSON.parse(localStorage.getItem("array"));o||(o=[]);var l=Object(c.useState)(o),j=Object(s.a)(l,2),u=j[0],x=j[1];Object(c.useEffect)((function(){o?localStorage.setItem("array",JSON.stringify(u.filter((function(e){return null!==e})))):localStorage.setItem("array",JSON.stringify([]))}),[u]),Object(c.useEffect)((function(){x([].concat(Object(a.a)(u),[n]))}),[n]);var O=function(e){x(o.filter((function(t){return t.duration!==e})))};return Object(b.jsxs)(b.Fragment,{children:[n&&Object(b.jsx)(L,{auction:n,setAuction:r}),i&&Object(b.jsx)(C,{setAuction:r}),Object(b.jsx)("div",{className:"row row-cols-1 row-cols-md-3 row-cols-lg-4 p-5 g-3 border mt-1 ",children:o.sort((function(e,t){return t.duration-e.duration})).map((function(e,t){return Object(b.jsx)(N,{item:e,deleteHandler:O},t)}))})]})},I=n.p+"static/media/uabc.d6f15707.jpeg",E=n(74),A=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(c.useRef)(),u=Object(c.useRef)(),x=Object(c.useContext)(d).login,O=function(){return r(!1)},p=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(""),e.prev=2,e.next=5,x(j.current.value,u.current.value);case 5:O(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l("Invalid login");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){return r(!0)},className:"btn btn-outline-secondary mx-2 d-none",children:"Entrar"}),Object(b.jsx)(f.a,{centered:!0,show:n,onHide:O,children:Object(b.jsxs)("form",{onSubmit:p,children:[Object(b.jsx)(f.a.Header,{children:Object(b.jsx)(f.a.Title,{children:"Entrar"})}),Object(b.jsxs)(f.a.Body,{children:[o&&Object(b.jsx)(E.a,{variant:"danger",children:o}),Object(b.jsxs)(v.a.Group,{children:[Object(b.jsx)(v.a.Label,{children:"KL "}),Object(b.jsx)(v.a.Control,{type:"text",required:!0,ref:j,placeholder:"escribe tu KL"})]}),Object(b.jsxs)(v.a.Group,{className:"d-none",children:[Object(b.jsx)(v.a.Label,{children:"Password"}),Object(b.jsx)(v.a.Control,{type:"text",ref:u,value:"123456"})]})]}),Object(b.jsxs)(f.a.Footer,{children:[Object(b.jsx)(y.a,{variant:"secondary",onClick:O,children:"Cancelar"}),Object(b.jsx)(y.a,{variant:"primary",type:"submit",children:"Entrar"})]})]})})]})},P=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(c.useRef)(),u=Object(c.useRef)(),x=Object(c.useRef)(),O=Object(c.useContext)(d).register,p=function(){return r(!1)},g=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(""),u.current.value===x.current.value){e.next=4;break}return e.abrupt("return",l("Passwords does not match"));case 4:return e.prev=4,e.next=7,O(j.current.value+"@gmail.com",u.current.value);case 7:p(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),l(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){return r(!0)},className:"btn btn-outline-success mx-2",children:"Ver Consentimiento"}),Object(b.jsx)(f.a,{centered:!0,show:n,onHide:p,children:Object(b.jsxs)("form",{onSubmit:g,children:[Object(b.jsxs)(f.a.Body,{children:[o&&Object(b.jsx)(E.a,{variant:"danger",children:o}),Object(b.jsxs)(v.a.Group,{children:[Object(b.jsx)(v.a.Label,{children:"Nombre"}),Object(b.jsx)(v.a.Control,{type:"text",required:!0,ref:j})]}),Object(b.jsxs)(v.a.Group,{className:"d-none",children:[Object(b.jsx)(v.a.Label,{children:"Password"}),Object(b.jsx)(v.a.Control,{type:"password",required:!0,ref:u,value:"123456"})]}),Object(b.jsxs)(v.a.Group,{className:"d-none",children:[Object(b.jsx)(v.a.Label,{children:"Confirmar Password"}),Object(b.jsx)(v.a.Control,{type:"password",required:!0,ref:x,value:"123456"})]})]}),Object(b.jsxs)(f.a.Footer,{children:[Object(b.jsx)(y.a,{variant:"secondary",onClick:p,children:"Cancelar"}),Object(b.jsx)(y.a,{variant:"primary",type:"submit",children:"Leer Consentimiento"})]})]})})]})},R=function(){var e=Object(c.useContext)(d),t=e.currentUser,n=e.logout;return Object(b.jsx)("nav",{className:"container navbar navbar-light ",children:Object(b.jsxs)("div",{className:"container d-flex flex-column",children:[Object(b.jsx)("div",{className:"mb-4 mt-5",children:Object(b.jsx)("img",{src:I,alt:"logo",height:"300"})}),Object(b.jsx)("div",{className:"d-flex",children:Object(b.jsx)("div",{className:"col mb-4",children:t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"btn btn-secondary mx-2 disabled px-4 d-none",children:t.email.slice(0,-10)}),Object(b.jsx)("div",{onClick:function(){return n()},className:"btn btn-outline-secondary mx-2 ",children:"SALIR"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(A,{}),Object(b.jsx)(P,{})]})})})]})})},F=function(){return Object(b.jsxs)(x,{children:[Object(b.jsx)(R,{}),Object(b.jsx)(D,{})]})};n(62);Object(r.render)(Object(b.jsx)(F,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.60fd4a12.chunk.js.map